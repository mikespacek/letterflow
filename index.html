<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Letter Generator</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Left Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-home"></i> RE Letter Gen</h2>
                <button id="toggleSidebar" class="toggle-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="active"><a href="index.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                    <li><a href="csv-processor.html"><i class="fas fa-file-csv"></i> CSV Processor</a></li>
                    <li><a href="letter-generator.html"><i class="fas fa-envelope"></i> Letter Generator</a></li>
                    <li><a href="template-manager.html"><i class="fas fa-file-alt"></i> Template Manager</a></li>
                    <li><a href="analytics.html"><i class="fas fa-chart-bar"></i> Analytics</a></li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <div class="api-status">
                    <span>API Status:</span>
                    <span id="apiStatus" class="status-indicator">Checking...</span>
                </div>
                <div class="theme-toggle">
                    <label for="themeSwitch">Dark Mode</label>
                    <input type="checkbox" id="themeSwitch">
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="content">
            <header class="content-header">
                <h1>Real Estate Letter Generator</h1>
                <div class="user-actions">
                    <button id="helpBtn" class="btn btn-outline"><i class="fas fa-question-circle"></i> Help</button>
                    <button id="settingsBtn" class="btn btn-outline"><i class="fas fa-cog"></i> Settings</button>
                </div>
            </header>

            <section class="hero-section">
                <div class="hero-content">
                    <h2>Generate Targeted Real Estate Letters in Minutes</h2>
                    <p>Upload your property data, choose a template, and automatically generate personalized letters for different property categories.</p>
                    <div class="hero-actions">
                        <a href="csv-processor.html" class="btn btn-primary"><i class="fas fa-upload"></i> Upload CSV</a>
                        <a href="letter-generator.html" class="btn btn-secondary"><i class="fas fa-envelope"></i> Generate Letters</a>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="https://via.placeholder.com/500x300" alt="Real Estate Letter Generator Illustration">
                </div>
            </section>

            <section class="features-section">
                <h2>Key Features</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-file-csv feature-icon"></i>
                        <h3>Smart CSV Processing</h3>
                        <p>Automatically detect delimiters and parse property data from various formats.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-tags feature-icon"></i>
                        <h3>Intelligent Categorization</h3>
                        <p>Automatically categorize properties as owner-occupied, renter-occupied, or investor-owned.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-user feature-icon"></i>
                        <h3>Name Parsing</h3>
                        <p>Extract first and last names from various formats for personalized greetings.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-file-alt feature-icon"></i>
                        <h3>Custom Templates</h3>
                        <p>Create and manage letter templates with variable placeholders for personalization.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-envelope feature-icon"></i>
                        <h3>Batch Generation</h3>
                        <p>Generate hundreds of targeted letters in seconds based on property categories.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-chart-bar feature-icon"></i>
                        <h3>Data Analytics</h3>
                        <p>Visualize property categorization and track campaign performance.</p>
                    </div>
                </div>
            </section>

            <section class="quick-links-section">
                <h2>Quick Start</h2>
                <div class="quick-links-grid">
                    <a href="csv-processor.html" class="quick-link-card">
                        <i class="fas fa-upload"></i>
                        <h3>Upload Property Data</h3>
                        <p>Start by uploading your CSV file with property data.</p>
                    </a>
                    <a href="template-manager.html" class="quick-link-card">
                        <i class="fas fa-file-alt"></i>
                        <h3>Manage Templates</h3>
                        <p>Create or edit letter templates for different property types.</p>
                    </a>
                    <a href="letter-generator.html" class="quick-link-card">
                        <i class="fas fa-envelope"></i>
                        <h3>Generate Letters</h3>
                        <p>Generate personalized letters using your templates and data.</p>
                    </a>
                    <a href="analytics.html" class="quick-link-card">
                        <i class="fas fa-chart-bar"></i>
                        <h3>View Analytics</h3>
                        <p>Analyze your property data and letter campaigns.</p>
                    </a>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal for Help -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Help & Documentation</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <h3>Getting Started</h3>
                <p>Welcome to the Real Estate Letter Generator! This application helps you create personalized letters for property owners based on CSV data.</p>
                
                <h3>Basic Workflow</h3>
                <ol>
                    <li><strong>Upload CSV</strong>: Start by uploading your property data in CSV format.</li>
                    <li><strong>Create Templates</strong>: Create letter templates with placeholders for personalization.</li>
                    <li><strong>Generate Letters</strong>: Select a processed file and template to generate personalized letters.</li>
                    <li><strong>Export</strong>: Export your letters as PDF or in bulk.</li>
                </ol>
                
                <h3>Property Categorization</h3>
                <p>Properties are automatically categorized as:</p>
                <ul>
                    <li><strong class="category-owner">Owner-Occupied</strong>: Property address matches mailing address.</li>
                    <li><strong class="category-renter">Renter-Occupied</strong>: Property address differs from mailing address.</li>
                    <li><strong class="category-investor">Investor</strong>: Entity owns multiple properties or has business indicators.</li>
                </ul>
                
                <h3>Need More Help?</h3>
                <p>Refer to the README.md file for detailed documentation or contact support.</p>
            </div>
        </div>
    </div>

    <script>
        // API Configuration
        const API_URL = 'http://localhost:3006';
        
        // Check API Status
        async function checkApiStatus() {
            const statusElement = document.getElementById('apiStatus');
            try {
                const response = await fetch(`${API_URL}/health`);
                if (response.ok) {
                    statusElement.textContent = 'Online';
                    statusElement.className = 'status-indicator online';
                } else {
                    statusElement.textContent = 'Error';
                    statusElement.className = 'status-indicator error';
                }
            } catch (error) {
                statusElement.textContent = 'Offline';
                statusElement.className = 'status-indicator offline';
            }
        }
        
        // Theme Toggle
        function initThemeToggle() {
            const themeSwitch = document.getElementById('themeSwitch');
            
            // Check for saved theme preference or respect OS preference
            const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const savedTheme = localStorage.getItem('theme');
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDarkMode)) {
                document.body.classList.add('dark-mode');
                themeSwitch.checked = true;
            }
            
            // Toggle theme when switch changes
            themeSwitch.addEventListener('change', function() {
                if (this.checked) {
                    document.body.classList.add('dark-mode');
                    localStorage.setItem('theme', 'dark');
                } else {
                    document.body.classList.remove('dark-mode');
                    localStorage.setItem('theme', 'light');
                }
            });
        }
        
        // Sidebar Toggle for Mobile
        function initSidebarToggle() {
            const toggleBtn = document.getElementById('toggleSidebar');
            const sidebar = document.querySelector('.sidebar');
            
            toggleBtn.addEventListener('click', function() {
                sidebar.classList.toggle('collapsed');
            });
        }
        
        // Modal Controls
        function initModals() {
            // Help Modal
            const helpModal = document.getElementById('helpModal');
            const helpBtn = document.getElementById('helpBtn');
            const closeBtn = helpModal.querySelector('.close');
            
            helpBtn.addEventListener('click', function() {
                helpModal.style.display = 'block';
            });
            
            closeBtn.addEventListener('click', function() {
                helpModal.style.display = 'none';
            });
            
            window.addEventListener('click', function(event) {
                if (event.target === helpModal) {
                    helpModal.style.display = 'none';
                }
            });
        }
        
        // Initialize everything when DOM content is loaded
        document.addEventListener('DOMContentLoaded', function() {
            checkApiStatus();
            initThemeToggle();
            initSidebarToggle();
            initModals();
            
            // Periodically check API status
            setInterval(checkApiStatus, 30000); // Every 30 seconds
        });
    </script>
</body>
</html> 